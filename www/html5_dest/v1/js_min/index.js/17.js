define(function(require,exports,module){require("zepto-ext");var jf=require("widget/biz/job-filter");require("widget/touchSlide");var tpl=require("widget/tpl-engine"),util=(require("widget/api"),require("widget/util")),scroll=require("./widget/window-scroll");if(miduoduo.os.wx){var wxShare=require("./wechat/share");wxShare.bind({})}var banners=[{url:"view/job/job-detail.html?task=596",imgSrc:miduoduo.basePath.picUrl+"/index/banner3.png"},{url:"view/job/job-detail.html?task=527",imgSrc:miduoduo.basePath.picUrl+"/index/banner4.png"},{url:"view/pay/compensation.html",imgSrc:miduoduo.basePath.picUrl+"/index/banner0.jpg"},{url:"view/job/job-detail.html?task=1261",imgSrc:miduoduo.basePath.picUrl+"/index/banner5.png"}];$(".imageSlide").html(tpl.parse("banner-slide-tpl",{banners:banners})),$("#bannerSlider").touchSlide(),$("#bannerSlider").on("click","a",function(e){e.preventDefault(),util.href($(this).attr("href"))}),$(".top-nav > div").on("click",function(){util.href($(this).data("url"))});var $jobFilter=$(".job-filter"),$jobFilterPh=$(".job-filter-placeholder"),jobFilterTop=$jobFilterPh.offset().top,scrollTop=parseInt(jobFilterTop);scroll.bind(function(pos,isDown){parseInt(pos)>=scrollTop&&isDown?$jobFilter.addClass("job-filter-show"):$jobFilter.removeClass("job-filter-show2 job-filter-show")},"job-filter");var lastPos;$(window).on("touchstart",function(){lastPos=document.body.scrollTop}),$(window).on("touchmove",function(e){lastPos>document.body.scrollTop&&$jobFilter.removeClass("job-filter-show2 job-filter-show")});var $filterBtn=$jobFilter.children("a");$(".filter-item-ph").on("click",function(){document.body.scrollTop<scrollTop&&window.scrollTo(0,scrollTop),$jobFilter.addClass("job-filter-show2");var index=$(this).index();switch(index){case 0:jf.district($filterBtn.eq(index));break;case 1:jf.jobType($filterBtn.eq(index));break;case 2:jf.jobSort($filterBtn.eq(index))}})});