define(function(require,exports){function parse(str,data){if(!cache[str]){var tpl=document.getElementById(str).innerHTML;tpl=tpl.replace(/[\r\t\n]/g," ").split("<?").join("	").replace(/((^|\?>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)\?>/g,"',$1,'").split("	").join("');").split("?>").join("p.push('").split("\r").join("\\'");try{cache[str]=new Function("","var p=[];p.push('"+tpl+"');return p.join('');")}catch(e){console&&(console.log(e),console.log(tpl))}}var fn=cache[str];if(!data)return fn();try{return fn.apply(data)}catch(e){console&&(console.log(e),console.log(data))}}var cache={};exports.parse=parse});