define(function(require,exports){var Cookie={cookieArr:{},options:{domain:".miduoduo.cn",path:"/"},setCookie:function(key,value,opts){opts=opts||{};var line=key+"="+encodeURIComponent(value);if(opts.domain||(opts.domain=this.options.domain),opts.path||(opts.path=this.options.path),line+="; domain="+opts.domain,opts.path&&(line+="; path="+opts.path),opts.duration){var expires=new Date;expires.setTime(expires.getTime()+1e3*opts.duration),line+="; expires="+expires.toGMTString()}return opts.secure&&(line+="; secure"),document.cookie=line+";"},getCookie:function(key,cbk){this.cookieArr[key]=this.cookieArr[key]||function(){"string"!=typeof key&&(key=key.toString());var arr=window.document.cookie.match("(?:^|;)\\s*"+key.replace(/([-.*+?^${}()|[\]\/\\])/g,"\\$1")+"=([^;]*)");return arr?decodeURIComponent(arr[1]):void 0}();var val=this.cookieArr[key];return cbk?cbk(val):val},removeCookie:function(key){return this.setCookie(key,"",{duration:-1})}};return{setCookie:function(key,value,opts){return Cookie.setCookie(key,value,opts)},getCookie:function(key,cbk){return Cookie.getCookie(key,cbk)},removeCookie:function(key){return Cookie.removeCookie(key)}}});